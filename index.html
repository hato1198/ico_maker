<!DOCTYPE html>
<html lang="ja">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ICOコンバーター</title>
        <meta name="description" content="単一または複数のPNG画像から、高品質なICOファイルを簡単作成。リサイズ機能も搭載した無料ウェブツールです。">
        <link rel="canonical" href="https://example.com/">
        
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Zen+Kaku+Gothic+New:wght@300;400;500;700&display=swap" rel="stylesheet">
        
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <header>
            <h1>ICOコンバーター</h1>
            <p>PNG画像からICOファイルを作成できる無料ツールです。</p>
        </header>

        <!-- モード選択画面 -->
        <div id="mode-selection-container" class="main-container">
            <div id="select-single-mode" class="mode-button">
                <img class="mode-icon" src="assets/icon-single.svg" alt="単一画像モードのアイコン">
                <h2>単一画像から作成</h2>
                <p>1枚の画像を元に、複数サイズに対応したICOファイルを生成します。</p>
            </div>
            <div id="select-multi-mode" class="mode-button">
                <img class="mode-icon" src="assets/icon-multi.svg" alt="複数画像モードのアイコン">
                <h2>複数画像から作成</h2>
                <p>サイズ別の画像をまとめて、1つのICOファイルに変換します。</p>
            </div>
        </div>

        <!-- 単一画像モード -->
        <main id="single-mode-container" class="app-container hidden">
            <button class="back-button">← モード選択に戻る</button>
            <section id="single-workspace" class="workspace">
                <h2 class="sr-only">単一画像ワークスペース</h2>
                <div id="single-upload-prompt">
                    <p>ここにPNG画像をドラッグ＆ドロップ<br>または</p>
                    <label for="single-image-loader" class="button">画像を選択</label>
                    <input type="file" id="single-image-loader" accept="image/png" hidden>
                    <p class="upload-note">※正方形PNG画像を選択してください。</p>
                </div>
                <div id="single-preview-area" class="hidden">
                    <!-- 単一画像のプレビューがここに表示されます -->
                </div>
            </section>
            <aside class="controls">
                <h2 id="controls-heading-single">設定</h2>
                <fieldset>
                    <legend>ファイル名</legend>
                    <div class="filename-wrapper">
                        <input type="text" id="single-filename-input" value="favicon" placeholder="favicon">
                        <span class="file-extension">.ico</span>
                    </div>
                </fieldset>
                <fieldset>
                    <legend>作成するサイズ</legend>
                    <div id="size-options" class="size-options">
                        <!-- JSでチェックボックスを生成 -->
                    </div>
                </fieldset>
                <div class="divider"></div>
                <button id="single-generate-btn" class="button primary" disabled>ICOを生成してダウンロード</button>
                <button id="single-reset-btn" class="button hidden">リセット</button>
            </aside>
        </main>

        <!-- 複数画像モード -->
        <main id="multi-mode-container" class="app-container hidden">
            <button class="back-button">← モード選択に戻る</button>
            <section id="multi-workspace" class="workspace">
                <h2 class="sr-only">複数画像ワークスペース</h2>
                <div id="multi-upload-prompt">
                    <p>ここにPNG画像をドラッグ＆ドロップ<br>または</p>
                    <label for="multi-image-loader" class="button">画像を選択</label>
                    <input type="file" id="multi-image-loader" accept="image/png" multiple hidden>
                    <p class="upload-note">※256x256px以下の正方形PNG画像を選択してください。</p>
                </div>
                <div id="multi-preview-container" class="hidden"></div>
                <button id="add-more-btn" class="add-button hidden" title="画像を追加">+</button>
            </section>
            <aside class="controls">
                <h2 id="controls-heading-multi">設定</h2>
                <fieldset>
                    <legend>ファイル名</legend>
                    <div class="filename-wrapper">
                        <input type="text" id="multi-filename-input" value="favicon" placeholder="favicon">
                        <span class="file-extension">.ico</span>
                    </div>
                </fieldset>
                <div class="divider"></div>
                <p id="multi-image-info">ICOに含める画像ファイルを選択してください。</p>
                <button id="multi-generate-btn" class="button primary" disabled>ICOを生成してダウンロード</button>
                <button id="multi-reset-btn" class="button hidden">リセット</button>
            </aside>
        </main>

        <footer>
            <p>© <span id="year"></span> ICO Converter</p>
            <nav>
                <a href="index.html">トップページ</a>
                <a href="terms.html">利用規約</a>
            </nav>
        </footer>

        <script src="script.js"></script>
        <script>
            document.getElementById('year').textContent = new Date().getFullYear();
        </script>
    </body>
</html>